{"ast":null,"code":"var _jsxFileName = \"/Users/kieferslaton/doly-mern/src/App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport $ from \"jquery\";\nimport Popper from \"popper.js\";\nimport \"bootstrap/dist/js/bootstrap.bundle\";\nimport \"./App.css\";\nimport TodoList from \"./components/TodoList\";\nimport NavBar from \"./components/NavBar\";\n\nfunction App() {\n  const [user, setUser] = useState();\n  const [users, setUsers] = useState([]);\n  const [usernames, setUsernames] = useState([]);\n  const [isLogin, setIsLogin] = useState(true);\n  const [loginUser, setLoginUser] = useState(\"\");\n  const [loginPass, setLoginPass] = useState(\"\");\n  const [loginUserError, setLoginUserError] = useState(false);\n  const [loginPassError, setLoginPassError] = useState(false);\n  const [signupUser, setSignupUser] = useState(\"\");\n  const [signupPass1, setSignupPass1] = useState(\"\");\n  const [signupPass2, setSignupPass2] = useState(\"\");\n  const [signupUserError, setSignupUserError] = useState(false);\n  const [signupPass1Error, setSignupPass1Error] = useState(false);\n  const [signupPass2Error, setSignupPass2Error] = useState(false);\n\n  const setUserColor = color => {\n    axios.post(`http://localhost:5000/users/update/${user._id}`, {\n      username: user.username,\n      password: user.password,\n      color: color\n    }).then(res => console.log(res));\n    console.log(user);\n  };\n\n  useEffect(() => {\n    axios.get(`http://localhost:5000/users/`).then(res => {\n      setUsers(res.data);\n      setUsernames(res.data.map(user => user.username));\n      if (user) setUser(user);\n    });\n  }, []);\n  useEffect(() => {\n    if (user) {\n      axios.get(`http://localhost:5000/users/${user._id}`).then(res => {\n        setUser(res.data);\n      });\n    }\n  }, [user.color]);\n\n  const handleLoginUserChange = e => {\n    setLoginUser(e.target.value);\n  };\n\n  const handleLoginPassChange = e => {\n    setLoginPass(e.target.value);\n  };\n\n  const handleLoginSubmit = e => {\n    e.preventDefault();\n\n    if (!usernames.includes(loginUser)) {\n      setLoginUserError(true);\n    } else {\n      setLoginUserError(false);\n      const user = users.find(user => user.username === loginUser);\n\n      if (user.password !== loginPass) {\n        setLoginPassError(true);\n      } else {\n        setLoginPassError(false);\n        setUser(user);\n      }\n    }\n  };\n\n  const handleSignupSubmit = e => {\n    e.preventDefault();\n\n    if (usernames.includes(signupUser)) {\n      setSignupUserError(true);\n    } else {\n      setSignupUserError(false);\n\n      if (signupPass1.length < 6) {\n        setSignupPass1Error(true);\n      } else {\n        setSignupPass1Error(false);\n\n        if (signupPass1 !== signupPass2) {\n          setSignupPass2Error(true);\n        } else {\n          setSignupPass2Error(false);\n          axios.post(`http://localhost:5000/users/add`, {\n            username: signupUser,\n            password: signupPass1\n          }).then(res => {\n            return axios.get(`http://localhost:5000/users/`).then(res => {\n              console.log(res.data);\n              setUser(res.data.find(user => user.username === signupUser));\n            });\n          });\n        }\n      }\n    }\n  };\n\n  const logOut = () => {\n    setUser(\"\");\n  };\n\n  if (!user) {\n    return /*#__PURE__*/React.createElement(Router, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(NavBar, {\n      user: user,\n      logOut: logOut,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container login-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row border rounded justify-content-center p-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-6 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => setIsLogin(true),\n      className: `${isLogin ? \"btn-dark\" : \"border border-dark\"} btn w-25`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 15\n      }\n    }, \"Log In\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => setIsLogin(false),\n      className: `${isLogin ? \"border border-dark\" : \"btn-dark\"} btn w-25`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 15\n      }\n    }, \"Sign Up\"), /*#__PURE__*/React.createElement(\"form\", {\n      className: `${isLogin ? \"\" : \"d-none\"} my-4`,\n      onSubmit: handleLoginSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 19\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      id: \"loginUsername\",\n      onChange: handleLoginUserChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"small\", {\n      className: `${loginUserError ? \"\" : \"d-none\"} form-text`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 19\n      }\n    }, \"Please enter a valid username.\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 19\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      id: \"loginPassword\",\n      onChange: handleLoginPassChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"small\", {\n      className: `${loginPassError ? \"\" : \"d-none\"} form-text`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 19\n      }\n    }, \"Password is incorrect.\")), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 17\n      }\n    }, \"Log In\")), /*#__PURE__*/React.createElement(\"form\", {\n      className: `${isLogin ? \"d-none\" : \"\"} my-4`,\n      onSubmit: handleSignupSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 19\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      id: \"signupUsername\",\n      onChange: e => setSignupUser(e.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"small\", {\n      className: `${signupUserError ? \"\" : \"d-none\"} form-text`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 19\n      }\n    }, \"Username already taken.\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 19\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      id: \"signupPassword1\",\n      onChange: e => setSignupPass1(e.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"small\", {\n      className: `${signupPass1Error ? \"\" : \"d-none\"} form-text`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 19\n      }\n    }, \"Password must be at least 6 characters long.\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 19\n      }\n    }, \"Re-enter Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      id: \"signupPassword2\",\n      onChange: e => setSignupPass2(e.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"small\", {\n      className: `${signupPass2Error ? \"\" : \"d-none\"} form-text`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 19\n      }\n    }, \"Passwords don't match.\")), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 17\n      }\n    }, \"Log In\"))))));\n  } else {\n    return /*#__PURE__*/React.createElement(Router, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(NavBar, {\n      user: user,\n      setUserColor: setUserColor,\n      logOut: logOut,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(TodoList, {\n      user: user,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }\n    }));\n  }\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/kieferslaton/doly-mern/src/App.js"],"names":["React","useState","useEffect","axios","BrowserRouter","Router","Route","$","Popper","TodoList","NavBar","App","user","setUser","users","setUsers","usernames","setUsernames","isLogin","setIsLogin","loginUser","setLoginUser","loginPass","setLoginPass","loginUserError","setLoginUserError","loginPassError","setLoginPassError","signupUser","setSignupUser","signupPass1","setSignupPass1","signupPass2","setSignupPass2","signupUserError","setSignupUserError","signupPass1Error","setSignupPass1Error","signupPass2Error","setSignupPass2Error","setUserColor","color","post","_id","username","password","then","res","console","log","get","data","map","handleLoginUserChange","e","target","value","handleLoginPassChange","handleLoginSubmit","preventDefault","includes","find","handleSignupSubmit","length","logOut"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport $ from \"jquery\";\nimport Popper from \"popper.js\";\nimport \"bootstrap/dist/js/bootstrap.bundle\";\nimport \"./App.css\";\n\nimport TodoList from \"./components/TodoList\";\nimport NavBar from \"./components/NavBar\";\n\nfunction App() {\n  const [user, setUser] = useState();\n  const [users, setUsers] = useState([]);\n  const [usernames, setUsernames] = useState([]);\n  const [isLogin, setIsLogin] = useState(true);\n  const [loginUser, setLoginUser] = useState(\"\");\n  const [loginPass, setLoginPass] = useState(\"\");\n  const [loginUserError, setLoginUserError] = useState(false);\n  const [loginPassError, setLoginPassError] = useState(false);\n  const [signupUser, setSignupUser] = useState(\"\");\n  const [signupPass1, setSignupPass1] = useState(\"\");\n  const [signupPass2, setSignupPass2] = useState(\"\");\n  const [signupUserError, setSignupUserError] = useState(false);\n  const [signupPass1Error, setSignupPass1Error] = useState(false);\n  const [signupPass2Error, setSignupPass2Error] = useState(false);\n\n  const setUserColor = (color) => {\n    axios\n      .post(`http://localhost:5000/users/update/${user._id}`, {\n        username: user.username,\n        password: user.password,\n        color: color\n      })\n      .then((res) => console.log(res));\n    console.log(user);\n  }\n\n  useEffect(() => {\n    axios.get(`http://localhost:5000/users/`).then((res) => {\n      setUsers(res.data);\n      setUsernames(res.data.map((user) => user.username));\n      if(user) setUser(user);\n    });\n  }, []);\n\n  useEffect(() => {\n    if(user){\n    axios.get(`http://localhost:5000/users/${user._id}`).then((res) => {\n      setUser(res.data)\n    })\n  }\n  }, [user.color]);\n\n  const handleLoginUserChange = (e) => {\n    setLoginUser(e.target.value);\n  };\n\n  const handleLoginPassChange = (e) => {\n    setLoginPass(e.target.value);\n  };\n\n  const handleLoginSubmit = (e) => {\n    e.preventDefault();\n    if (!usernames.includes(loginUser)) {\n      setLoginUserError(true);\n    } else {\n      setLoginUserError(false);\n      const user = users.find((user) => user.username === loginUser);\n      if (user.password !== loginPass) {\n        setLoginPassError(true);\n      } else {\n        setLoginPassError(false);\n        setUser(user);\n      }\n    }\n  };\n\n  const handleSignupSubmit = (e) => {\n    e.preventDefault();\n    if (usernames.includes(signupUser)) {\n      setSignupUserError(true);\n    } else {\n      setSignupUserError(false);\n      if (signupPass1.length < 6) {\n        setSignupPass1Error(true);\n      } else {\n        setSignupPass1Error(false);\n        if (signupPass1 !== signupPass2) {\n          setSignupPass2Error(true);\n        } else {\n          setSignupPass2Error(false);\n          axios\n            .post(`http://localhost:5000/users/add`, {\n              username: signupUser,\n              password: signupPass1,\n            })\n            .then((res) => {\n           return axios.get(`http://localhost:5000/users/`).then((res) => {\n            console.log(res.data)\n            setUser(res.data.find((user) => user.username === signupUser));\n          })})\n        }\n      }\n    }\n  };\n\n  const logOut = () => {\n    setUser(\"\");\n  };\n\n  if (!user) {\n    return (\n      <Router>\n        <NavBar user={user} logOut={logOut} />\n        <div className=\"container login-container\">\n          <div className=\"row border rounded justify-content-center p-2\">\n            <div className=\"col-6 text-center\">\n              <button\n                onClick={() => setIsLogin(true)}\n                className={`${isLogin ? \"btn-dark\" : \"border border-dark\"} btn w-25`}\n              >\n                Log In\n              </button>\n              <button\n                onClick={() => setIsLogin(false)}\n                className={`${isLogin ? \"border border-dark\" : \"btn-dark\"} btn w-25`}\n              >\n                Sign Up\n              </button>\n              <form\n                className={`${isLogin ? \"\" : \"d-none\"} my-4`}\n                onSubmit={handleLoginSubmit}\n              >\n                <div className=\"form-group\">\n                  <label>Username</label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"loginUsername\"\n                    onChange={handleLoginUserChange}\n                  />\n                  <small\n                    className={`${loginUserError ? \"\" : \"d-none\"} form-text`}\n                  >\n                    Please enter a valid username.\n                  </small>\n                </div>\n                <div className=\"form-group\">\n                  <label>Password</label>\n                  <input\n                    type=\"password\"\n                    className=\"form-control\"\n                    id=\"loginPassword\"\n                    onChange={handleLoginPassChange}\n                  />\n                  <small\n                    className={`${loginPassError ? \"\" : \"d-none\"} form-text`}\n                  >\n                    Password is incorrect.\n                  </small>\n                </div>\n                <button type=\"submit\" className=\"btn btn-dark\">\n                  Log In\n                </button>\n              </form>\n              <form\n                className={`${isLogin ? \"d-none\" : \"\"} my-4`}\n                onSubmit={handleSignupSubmit}\n              >\n                <div className=\"form-group\">\n                  <label>Username</label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"signupUsername\"\n                    onChange={(e) => setSignupUser(e.target.value)}\n                  />\n                  <small\n                    className={`${signupUserError ? \"\" : \"d-none\"} form-text`}\n                  >\n                    Username already taken.\n                  </small>\n                </div>\n                <div className=\"form-group\">\n                  <label>Password</label>\n                  <input\n                    type=\"password\"\n                    className=\"form-control\"\n                    id=\"signupPassword1\"\n                    onChange={(e) => setSignupPass1(e.target.value)}\n                  />\n                  <small\n                    className={`${signupPass1Error ? \"\" : \"d-none\"} form-text`}\n                  >\n                    Password must be at least 6 characters long.\n                  </small>\n                </div>\n                <div className=\"form-group\">\n                  <label>Re-enter Password</label>\n                  <input\n                    type=\"password\"\n                    className=\"form-control\"\n                    id=\"signupPassword2\"\n                    onChange={(e) => setSignupPass2(e.target.value)}\n                  />\n                  <small\n                    className={`${signupPass2Error ? \"\" : \"d-none\"} form-text`}\n                  >\n                    Passwords don't match.\n                  </small>\n                </div>\n                <button type=\"submit\" className=\"btn btn-dark\">\n                  Log In\n                </button>\n              </form>\n            </div>\n          </div>\n        </div>\n      </Router>\n    );\n  } else {\n    return (\n      <Router>\n        <NavBar user={user} setUserColor={setUserColor} logOut={logOut} />\n        <TodoList user={user} />\n      </Router>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}