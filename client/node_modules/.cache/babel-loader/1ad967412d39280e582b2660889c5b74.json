{"ast":null,"code":"var _jsxFileName = \"/Users/kieferslaton/doly-project/client/src/App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Cookies from \"js-cookie\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"bootstrap/dist/js/bootstrap.bundle\";\nimport \"./App.css\";\nimport TodoList from \"./components/TodoList\";\nimport TodoListMobile from \"./components/TodoListMobile\";\nimport NavBar from \"./components/NavBar\";\nimport { handleLogin, handleLogout } from \"./auth\";\nconst url = \"\";\n\nconst useWindowSize = () => {\n  const isClient = typeof window === \"object\";\n\n  const getSize = () => {\n    return {\n      width: isClient ? window.innerWidth : undefined,\n      height: isClient ? window.innerHeight : undefined\n    };\n  };\n\n  const [windowSize, setWindowSize] = useState(getSize);\n  useEffect(() => {\n    if (!isClient) {\n      return false;\n    }\n\n    const handleResize = () => {\n      setWindowSize(getSize());\n    };\n\n    window.addEventListener(\"resize\", handleResize);\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []);\n  return windowSize;\n};\n\nfunction App() {\n  const [token, setToken] = useState(Cookies.get(\"token\"));\n  const [user, setUser] = useState(\"\");\n  const [usernames, setUsernames] = useState([]);\n  const [isLogin, setIsLogin] = useState(true);\n  const [loginUser, setLoginUser] = useState(\"\");\n  const [loginPass, setLoginPass] = useState(\"\");\n  const [loginUserError, setLoginUserError] = useState(\"\");\n  const [loginPassError, setLoginPassError] = useState(\"\");\n  const [signupUser, setSignupUser] = useState(\"\");\n  const [signupPass1, setSignupPass1] = useState(\"\");\n  const [signupPass2, setSignupPass2] = useState(\"\");\n  const [signupUserError, setSignupUserError] = useState(\"\");\n  const [signupPass1Val, setSignupPass1Val] = useState({\n    length: false,\n    nums: false\n  });\n  const [signupPass2Error, setSignupPass2Error] = useState(\"\");\n  const [isInbox, setIsInbox] = useState(true);\n  const size = useWindowSize();\n\n  const setUserColor = color => {\n    if (user) {\n      axios.post(`${url}/users/update/${user._id}`, {\n        username: user.username,\n        password: user.password,\n        color: color\n      }).then(res => {\n        return axios.get(`${url}/users/${user._id}`).then(res => {\n          setUser(res.data);\n        });\n      });\n    }\n  };\n\n  const handleTagsToggle = () => {\n    setIsInbox(!isInbox);\n  };\n\n  useEffect(() => {\n    if (user) setUser(user);\n  }, [user]);\n  useEffect(() => {\n    if (token) {\n      console.log(token);\n      const payload = {\n        headers: {\n          authorization: token\n        }\n      };\n      axios.post(`${url}/users/accounts`, {}, payload).then(res => setUser(res.data)).catch(err => console.log(err.status));\n    }\n  }, []);\n\n  const handleLoginUserChange = e => {\n    setLoginUser(e.target.value);\n  };\n\n  const handleLoginPassChange = e => {\n    setLoginPass(e.target.value);\n  };\n\n  const handleLoginSubmit = e => {\n    e.preventDefault();\n    axios.post(`${url}/users/login`, {\n      username: loginUser,\n      password: loginPass\n    }).then(res => {\n      handleLogin(res.data);\n      return axios.get(`${url}/users/`).then(res => {\n        setUser(res.data.find(user => user.username === loginUser));\n      });\n    }).catch(err => {\n      if (err.response.status === 401) {\n        setLoginUserError(\"\");\n        setLoginPassError(\"Incorrect Password.\");\n      } else if (err.response.status === 404) {\n        setLoginUserError(\"Username not found.\");\n        setLoginPassError(\"\");\n      }\n    });\n  };\n\n  const handleSignupSubmit = e => {\n    e.preventDefault();\n    axios.post(`${url}/users/signup`, {\n      username: signupUser,\n      password: signupPass1,\n      password2: signupPass2\n    }).then(res => {\n      console.log(res.data);\n      handleLogin(res.data);\n      return axios.get(`${url}/users/`).then(res => {\n        console.log(res.data);\n        setUser(res.data.find(user => user.username === signupUser));\n      });\n    }).catch(err => {\n      if (err.response.status === 401) {\n        setSignupUserError(\"\");\n        setSignupPass2Error(\"Passwords don't match.\");\n      } else if (err.response.status === 400) {\n        setSignupPass2Error(\"\");\n        setSignupUserError(\"User already exists.\");\n      }\n    });\n  };\n\n  const logOut = () => {\n    setUser(\"\");\n    handleLogout(token);\n  };\n\n  if (!user) {\n    return /*#__PURE__*/React.createElement(Router, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(NavBar, {\n      user: user,\n      logOut: logOut,\n      size: size,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container login-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row border rounded justify-content-center p-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-10 col-md-6 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => setIsLogin(true),\n      className: `${isLogin ? \"btn-dark\" : \"border border-dark\"} btn w-50 font-weight-bold`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 15\n      }\n    }, \"Log In\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => setIsLogin(false),\n      className: `${isLogin ? \"border border-dark\" : \"btn-dark\"} btn w-50 font-weight-bold`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 15\n      }\n    }, \"Sign Up\"), /*#__PURE__*/React.createElement(\"form\", {\n      className: `${isLogin ? \"\" : \"d-none\"} my-4`,\n      onSubmit: handleLoginSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 19\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      id: \"loginUsername\",\n      onChange: handleLoginUserChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"small\", {\n      className: `${loginUserError ? \"\" : \"d-none\"} form-text`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 19\n      }\n    }, \"Please enter a valid username.\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 19\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      id: \"loginPassword\",\n      onChange: handleLoginPassChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"small\", {\n      className: `${loginPassError ? \"\" : \"d-none\"} form-text`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 19\n      }\n    }, \"Password is incorrect.\")), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-dark font-weight-bold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 17\n      }\n    }, \"Log In\")), /*#__PURE__*/React.createElement(\"form\", {\n      className: `${isLogin ? \"d-none\" : \"\"} my-4`,\n      onSubmit: handleSignupSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 19\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      id: \"signupUsername\",\n      onChange: e => setSignupUser(e.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"small\", {\n      className: `${signupUserError ? \"\" : \"d-none\"} form-text`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 19\n      }\n    }, \"Username already taken.\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 19\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      id: \"signupPassword1\",\n      onChange: e => setSignupPass1(e.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"small\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 19\n      }\n    }, \"Password must be at least 10 characters.\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 27\n      }\n    }), /*#__PURE__*/React.createElement(\"small\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 19\n      }\n    }, \"Password must contain at least one number.\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 19\n      }\n    }, \"Re-enter Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      id: \"signupPassword2\",\n      onChange: e => setSignupPass2(e.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"small\", {\n      className: `${signupPass2Error ? \"\" : \"d-none\"} form-text`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 19\n      }\n    }, \"Passwords don't match.\")), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-dark font-weight-bold\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 17\n      }\n    }, \"Sign Up\"))))));\n  } else {\n    if (size.width > 768) {\n      return /*#__PURE__*/React.createElement(Router, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(NavBar, {\n        user: user,\n        setUserColor: setUserColor,\n        handleTagsToggle: handleTagsToggle,\n        isInbox: isInbox,\n        logOut: logOut,\n        size: size,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(TodoList, {\n        user: user,\n        isInbox: isInbox,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }\n      }));\n    } else {\n      return /*#__PURE__*/React.createElement(Router, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(NavBar, {\n        user: user,\n        setUserColor: setUserColor,\n        handleTagsToggle: handleTagsToggle,\n        isInbox: isInbox,\n        logOut: logOut,\n        size: size,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(TodoListMobile, {\n        user: user,\n        isInbox: isInbox,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }\n      }));\n    }\n  }\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/kieferslaton/doly-project/client/src/App.js"],"names":["React","useState","useEffect","axios","Cookies","BrowserRouter","Router","TodoList","TodoListMobile","NavBar","handleLogin","handleLogout","url","useWindowSize","isClient","window","getSize","width","innerWidth","undefined","height","innerHeight","windowSize","setWindowSize","handleResize","addEventListener","removeEventListener","App","token","setToken","get","user","setUser","usernames","setUsernames","isLogin","setIsLogin","loginUser","setLoginUser","loginPass","setLoginPass","loginUserError","setLoginUserError","loginPassError","setLoginPassError","signupUser","setSignupUser","signupPass1","setSignupPass1","signupPass2","setSignupPass2","signupUserError","setSignupUserError","signupPass1Val","setSignupPass1Val","length","nums","signupPass2Error","setSignupPass2Error","isInbox","setIsInbox","size","setUserColor","color","post","_id","username","password","then","res","data","handleTagsToggle","console","log","payload","headers","authorization","catch","err","status","handleLoginUserChange","e","target","value","handleLoginPassChange","handleLoginSubmit","preventDefault","find","response","handleSignupSubmit","password2","logOut"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Cookies from \"js-cookie\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"bootstrap/dist/js/bootstrap.bundle\";\nimport \"./App.css\";\n\nimport TodoList from \"./components/TodoList\";\nimport TodoListMobile from \"./components/TodoListMobile\";\nimport NavBar from \"./components/NavBar\";\nimport { handleLogin, handleLogout } from \"./auth\";\n\nconst url = \"\";\n\nconst useWindowSize = () => {\n  const isClient = typeof window === \"object\";\n\n  const getSize = () => {\n    return {\n      width: isClient ? window.innerWidth : undefined,\n      height: isClient ? window.innerHeight : undefined,\n    };\n  };\n\n  const [windowSize, setWindowSize] = useState(getSize);\n\n  useEffect(() => {\n    if (!isClient) {\n      return false;\n    }\n\n    const handleResize = () => {\n      setWindowSize(getSize());\n    };\n    window.addEventListener(\"resize\", handleResize);\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []);\n\n  return windowSize;\n};\n\nfunction App() {\n  const [token, setToken] = useState(Cookies.get(\"token\"));\n  const [user, setUser] = useState(\"\");\n  const [usernames, setUsernames] = useState([]);\n  const [isLogin, setIsLogin] = useState(true);\n  const [loginUser, setLoginUser] = useState(\"\");\n  const [loginPass, setLoginPass] = useState(\"\");\n  const [loginUserError, setLoginUserError] = useState(\"\");\n  const [loginPassError, setLoginPassError] = useState(\"\");\n  const [signupUser, setSignupUser] = useState(\"\");\n  const [signupPass1, setSignupPass1] = useState(\"\");\n  const [signupPass2, setSignupPass2] = useState(\"\");\n  const [signupUserError, setSignupUserError] = useState(\"\");\n  const [signupPass1Val, setSignupPass1Val] = useState({\n    length: false,\n    nums: false,\n  });\n  const [signupPass2Error, setSignupPass2Error] = useState(\"\");\n  const [isInbox, setIsInbox] = useState(true);\n\n  const size = useWindowSize();\n\n  const setUserColor = (color) => {\n    if (user) {\n      axios\n        .post(`${url}/users/update/${user._id}`, {\n          username: user.username,\n          password: user.password,\n          color: color,\n        })\n        .then((res) => {\n          return axios.get(`${url}/users/${user._id}`).then((res) => {\n            setUser(res.data);\n          });\n        });\n    }\n  };\n\n  const handleTagsToggle = () => {\n    setIsInbox(!isInbox);\n  };\n\n  useEffect(() => {\n      if (user) setUser(user);\n  }, [user]);\n\n  useEffect(() => {\n    if (token) {\n      console.log(token);\n      const payload = { headers: { authorization: token } };\n      axios\n        .post(`${url}/users/accounts`, {}, payload)\n        .then((res) => setUser(res.data))\n        .catch((err) => console.log(err.status));\n    }\n  }, []);\n\n  const handleLoginUserChange = (e) => {\n    setLoginUser(e.target.value);\n  };\n\n  const handleLoginPassChange = (e) => {\n    setLoginPass(e.target.value);\n  };\n\n  const handleLoginSubmit = (e) => {\n    e.preventDefault();\n    axios\n      .post(`${url}/users/login`, {\n        username: loginUser,\n        password: loginPass,\n      })\n      .then((res) => {\n        handleLogin(res.data);\n        return axios.get(`${url}/users/`).then((res) => {\n          setUser(res.data.find((user) => user.username === loginUser));\n        });\n      })\n      .catch((err) => {\n        if (err.response.status === 401) {\n          setLoginUserError(\"\");\n          setLoginPassError(\"Incorrect Password.\");\n        } else if (err.response.status === 404) {\n          setLoginUserError(\"Username not found.\");\n          setLoginPassError(\"\");\n        }\n      });\n  };\n\n  const handleSignupSubmit = (e) => {\n    e.preventDefault();\n    axios\n      .post(`${url}/users/signup`, {\n        username: signupUser,\n        password: signupPass1,\n        password2: signupPass2,\n      })\n      .then((res) => {\n        console.log(res.data);\n        handleLogin(res.data);\n        return axios.get(`${url}/users/`).then((res) => {\n          console.log(res.data);\n          setUser(res.data.find((user) => user.username === signupUser));\n        });\n      })\n      .catch((err) => {\n        if (err.response.status === 401) {\n          setSignupUserError(\"\");\n          setSignupPass2Error(\"Passwords don't match.\");\n        } else if (err.response.status === 400) {\n          setSignupPass2Error(\"\");\n          setSignupUserError(\"User already exists.\");\n        }\n      });\n  };\n\n  const logOut = () => {\n    setUser(\"\");\n    handleLogout(token);\n  };\n\n  if (!user) {\n    return (\n      <Router>\n        <NavBar user={user} logOut={logOut} size={size} />\n        <div className=\"container login-container\">\n          <div className=\"row border rounded justify-content-center p-2\">\n            <div className=\"col-10 col-md-6 text-center\">\n              <button\n                onClick={() => setIsLogin(true)}\n                className={`${\n                  isLogin ? \"btn-dark\" : \"border border-dark\"\n                } btn w-50 font-weight-bold`}\n              >\n                Log In\n              </button>\n              <button\n                onClick={() => setIsLogin(false)}\n                className={`${\n                  isLogin ? \"border border-dark\" : \"btn-dark\"\n                } btn w-50 font-weight-bold`}\n              >\n                Sign Up\n              </button>\n              <form\n                className={`${isLogin ? \"\" : \"d-none\"} my-4`}\n                onSubmit={handleLoginSubmit}\n              >\n                <div className=\"form-group\">\n                  <label>Username</label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"loginUsername\"\n                    onChange={handleLoginUserChange}\n                  />\n                  <small\n                    className={`${loginUserError ? \"\" : \"d-none\"} form-text`}\n                  >\n                    Please enter a valid username.\n                  </small>\n                </div>\n                <div className=\"form-group\">\n                  <label>Password</label>\n                  <input\n                    type=\"password\"\n                    className=\"form-control\"\n                    id=\"loginPassword\"\n                    onChange={handleLoginPassChange}\n                  />\n                  <small\n                    className={`${loginPassError ? \"\" : \"d-none\"} form-text`}\n                  >\n                    Password is incorrect.\n                  </small>\n                </div>\n                <button type=\"submit\" className=\"btn btn-dark font-weight-bold\">\n                  Log In\n                </button>\n              </form>\n              <form\n                className={`${isLogin ? \"d-none\" : \"\"} my-4`}\n                onSubmit={handleSignupSubmit}\n              >\n                <div className=\"form-group\">\n                  <label>Username</label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"signupUsername\"\n                    onChange={(e) => setSignupUser(e.target.value)}\n                  />\n                  <small\n                    className={`${signupUserError ? \"\" : \"d-none\"} form-text`}\n                  >\n                    Username already taken.\n                  </small>\n                </div>\n                <div className=\"form-group\">\n                  <label>Password</label>\n                  <input\n                    type=\"password\"\n                    className=\"form-control\"\n                    id=\"signupPassword1\"\n                    onChange={(e) => setSignupPass1(e.target.value)}\n                  />\n                  <small>\n                    Password must be at least 10 characters.\n                  </small><br />\n                  <small>\n                    Password must contain at least one number.\n                  </small>\n                </div>\n                <div className=\"form-group\">\n                  <label>Re-enter Password</label>\n                  <input\n                    type=\"password\"\n                    className=\"form-control\"\n                    id=\"signupPassword2\"\n                    onChange={(e) => setSignupPass2(e.target.value)}\n                  />\n                  <small\n                    className={`${signupPass2Error ? \"\" : \"d-none\"} form-text`}\n                  >\n                    Passwords don't match.\n                  </small>\n                </div>\n                <button type=\"submit\" className=\"btn btn-dark font-weight-bold\">\n                  Sign Up\n                </button>\n              </form>\n            </div>\n          </div>\n        </div>\n      </Router>\n    );\n  } else {\n    if (size.width > 768) {\n      return (\n        <Router>\n          <NavBar\n            user={user}\n            setUserColor={setUserColor}\n            handleTagsToggle={handleTagsToggle}\n            isInbox={isInbox}\n            logOut={logOut}\n            size={size}\n          />\n          <TodoList user={user} isInbox={isInbox} />\n        </Router>\n      );\n    } else {\n      return (\n        <Router>\n          <NavBar\n            user={user}\n            setUserColor={setUserColor}\n            handleTagsToggle={handleTagsToggle}\n            isInbox={isInbox}\n            logOut={logOut}\n            size={size}\n          />\n          <TodoListMobile user={user} isInbox={isInbox} />\n        </Router>\n      );\n    }\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}