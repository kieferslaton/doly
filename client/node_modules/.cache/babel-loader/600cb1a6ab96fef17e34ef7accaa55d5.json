{"ast":null,"code":"var _jsxFileName = \"/Users/kieferslaton/doly-mern/src/components/TodoList.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst TodoList = props => {\n  const [todos, setTodos] = useState([]);\n  const [task, setTask] = useState('');\n  useEffect(() => {\n    axios.get(`http://localhost:5000/todos/`).then(res => {\n      setTodos(res.data.filter(todo => todo.username === props.user.username));\n    });\n  }, [task]);\n\n  const handleChange = e => {\n    setTask(e.target.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    axios.post('http://localhost:5000/todos/add', {\n      task,\n      username: props.user.username\n    }).then(res => console.log(res));\n    setTask('');\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }, \"Logged in as \", props.user.username), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  }, todos.map(todo => /*#__PURE__*/React.createElement(\"li\", {\n    key: todo._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }\n  }, todo.task))));\n};\n\nexport default TodoList;","map":{"version":3,"sources":["/Users/kieferslaton/doly-mern/src/components/TodoList.js"],"names":["React","useState","useEffect","axios","TodoList","props","todos","setTodos","task","setTask","get","then","res","data","filter","todo","username","user","handleChange","e","target","value","handleSubmit","preventDefault","post","console","log","map","_id"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,QAAQ,GAAIC,KAAD,IAAW;AACxB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBN,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACO,IAAD,EAAOC,OAAP,IAAkBR,QAAQ,CAAC,EAAD,CAAhC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZC,IAAAA,KAAK,CAACO,GAAN,CAAW,8BAAX,EAA0CC,IAA1C,CAA+CC,GAAG,IAAI;AAClDL,MAAAA,QAAQ,CAACK,GAAG,CAACC,IAAJ,CAASC,MAAT,CAAgBC,IAAI,IAAIA,IAAI,CAACC,QAAL,KAAkBX,KAAK,CAACY,IAAN,CAAWD,QAArD,CAAD,CAAR;AACH,KAFD;AAGD,GAJM,EAIJ,CAACR,IAAD,CAJI,CAAT;;AAME,QAAMU,YAAY,GAAGC,CAAC,IAAG;AACrBV,IAAAA,OAAO,CAACU,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP;AACH,GAFD;;AAIA,QAAMC,YAAY,GAAGH,CAAC,IAAI;AACtBA,IAAAA,CAAC,CAACI,cAAF;AACApB,IAAAA,KAAK,CAACqB,IAAN,CAAW,iCAAX,EAA8C;AAAChB,MAAAA,IAAD;AAAOQ,MAAAA,QAAQ,EAAEX,KAAK,CAACY,IAAN,CAAWD;AAA5B,KAA9C,EAAqFL,IAArF,CAA0FC,GAAG,IAAIa,OAAO,CAACC,GAAR,CAAYd,GAAZ,CAAjG;AACAH,IAAAA,OAAO,CAAC,EAAD,CAAP;AACH,GAJD;;AAMF,sBACI,uDACA;AAAM,IAAA,QAAQ,EAAEa,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACM;AAAO,IAAA,QAAQ,EAAEJ,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADN,CADA,eAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAiBb,KAAK,CAACY,IAAN,CAAWD,QAA5B,CAJA,eAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKV,KAAK,CAACqB,GAAN,CAAUZ,IAAI,iBACf;AAAI,IAAA,GAAG,EAAEA,IAAI,CAACa,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoBb,IAAI,CAACP,IAAzB,CADC,CAAL,CALA,CADJ;AAYH,CAhCD;;AAkCA,eAAeJ,QAAf","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport axios from 'axios'\n\nconst TodoList = (props) => {\n    const [todos, setTodos] = useState([])\n    const [task, setTask] = useState('')\n\n    useEffect(() => {\n        axios.get(`http://localhost:5000/todos/`).then(res => {\n            setTodos(res.data.filter(todo => todo.username === props.user.username))\n        })\n      }, [task])\n\n      const handleChange = e =>{\n          setTask(e.target.value);\n      }\n  \n      const handleSubmit = e => {\n          e.preventDefault();\n          axios.post('http://localhost:5000/todos/add', {task, username: props.user.username}).then(res => console.log(res));\n          setTask('');\n      }\n  \n    return(\n        <>\n        <form onSubmit={handleSubmit}>\n              <input onChange={handleChange} />\n          </form>\n        <p>Logged in as {props.user.username}</p>\n        <ul>{todos.map(todo => \n            <li key={todo._id}>{todo.task}</li>\n        )}\n        </ul>\n        </>\n    )\n}\n\nexport default TodoList"]},"metadata":{},"sourceType":"module"}